import{d as O,c as g,a as n,b as o,u as r,l as u,m as f,y as V,t as b,e as i,F as S,p as q,E as C,N as j,k as U,L as w}from"./8xvvzpeQ.js";import{S as A}from"./BJsWKcEX.js";import{a as N}from"./BCGqgtjN.js";const I=["innerHTML"],M=["for"],D={key:0},H={class:"col-md-12"},$=["for"],z={class:"option col-8 pl-0 mb-2"},R=["id","onUpdate:modelValue","name"],G={key:2,id:"error-container",class:"error"},Q=O({__name:"TextBoxListElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formLabelAlignment:{type:String},formFieldsValue:{type:Object},localTagId:{type:String},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError"],setup(e,{expose:x,emit:L}){const t=e,k=L,y=g(()=>t.kind=="form"),c=g(()=>t.kind=="survey"),h=g(()=>t.errors[t.item.tag]),T=()=>{v()},F=()=>{v()},v=()=>{const m=t.formFieldsValue[t.item.tag];if(t.item.required){const a=Object.values(m);if(a.filter(l=>l===""||l===void 0||l==null).length===a.length){s(t.item.tag,`${t.item.label} is required`);return}s(t.item.tag,null)}else s(t.item.tag,null)},B=()=>{if(c.value)return;const m=t.formFieldsValue[t.item.tag];if(t.item.required){const a=Object.values(m);if(a.filter(l=>l===""||l===void 0||l==null).length===a.length){s(t.item.tag,`${t.item.label} is required`);return}s(t.item.tag,null)}else s(t.item.tag,null)},s=(m,a)=>{k("addOrUpdateError",{tag:m,error:a})};return x({validate:B,item:t.item}),(m,a)=>(n(),o("div",{class:f(["form-builder--item field-container",{"d-none":e.item.hidden,"form-builder--item-input":r(c)}])},[r(c)&&e.item.description!==void 0?(n(),o("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,I)):u("",!0),e.formLabelVisible?(n(),o("label",{key:1,class:f([r(N)(e.item.labelAlignment,e.formLabelAlignment),"field-label"]),for:"textbox_"+e.item.tag+"_0_"+e.localTagId},[V(b(e.item.label)+" ",1),e.item.required?(n(),o("span",D,"*")):u("",!0)],10,M)):u("",!0),i("div",{class:f(["flex-col",{"row ":r(c),"textbox-list-opt":r(y)}])},[i("div",H,[i("table",{class:f({"w-100":r(y)})},[i("tbody",null,[(n(!0),o(S,null,q(e.item.picklistOptions,(d,l)=>(n(),o("tr",{key:l},[i("td",null,[i("label",{for:"textbox_"+e.item.tag+"_"+l+"_"+e.localTagId},b(d.label),9,$)]),i("td",null,[i("div",z,[C(i("input",{id:"textbox_"+e.item.tag+"_"+l+"_"+e.localTagId,ref_for:!0,ref:"textbox_"+e.item.tag+"_"+l,"onUpdate:modelValue":E=>e.formFieldsValue[e.item.tag][d.id]=E,name:e.item.tag,type:"text",onInput:T,onBlur:F,class:"form-control",placeholder:"Value"},null,40,R),[[j,e.formFieldsValue[e.item.tag][d.id]]])])])]))),128))])],2)]),e.item.shortLabel?(n(),U(A,{key:0},{default:w(()=>[V(b(e.item.shortLabel),1)]),_:1})):u("",!0)],2),r(h)?(n(),o("div",G,b(r(h)),1)):u("",!0)],2))}});export{Q as _};
