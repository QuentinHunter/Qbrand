import{a as O,e as C}from"./oo_a1T_D.js";import{f,j as k}from"./8xvvzpeQ.js";import{t as T,u as v}from"./DMPmGKrm.js";import{i as N}from"./C3e4t58V.js";import{i as w}from"./Dxzbedgu.js";import{a as F}from"./DpGxo2Of.js";import{k as y,i as R}from"./DjiXCgR8.js";import{i as D}from"./DKeuBCMA.js";import{s as M}from"./BFSpBrB8.js";function A(t){return function(e,r,s){for(var a=-1,o=Object(e),n=s(e),i=n.length;i--;){var u=n[++a];if(r(o[u],u,o)===!1)break}return e}}var U=A();function j(t,e){return t&&U(t,e,y)}function P(t,e){return function(r,s){if(r==null)return r;if(!R(r))return t(r,s);for(var a=r.length,o=-1,n=Object(r);++o<a&&s(n[o],o,n)!==!1;);return r}}var $=P(j);function B(t){return typeof t=="function"?t:D}function K(t,e){var r=w(t)?F:$;return r(t,B(e))}f.extend(T);f.extend(v);var m=(t=>(t[t.CALENDAR=1]="CALENDAR",t[t.FORM=2]="FORM",t[t.CONFIRMATION_PAGE=3]="CONFIRMATION_PAGE",t[t.PAYMENT=4]="PAYMENT",t))(m||{}),g=(t=>(t[t.CALENDAR=1]="CALENDAR",t[t.FORM=2]="FORM",t[t.NOTES_PAGE=3]="NOTES_PAGE",t[t.CONFIRMATION_PAGE=4]="CONFIRMATION_PAGE",t))(g||{}),S=(t=>(t.CLASSIC="classic",t.NEO="neo",t.SERVICE_MENU="serviceMenu",t))(S||{}),J=(t=>(t.PENDING="pending",t.COMPLETED="completed",t))(J||{});const p={DARK_OLD:"dark_old",LIGHT_OLD:"light_old",DARK:"dark",LIGHT:"light",DEFAULT:"default",DEFAULT_OLD:"default_old"},tt=(t,e)=>e==="classic"?Object.keys(g).find(r=>g[r]===t)||"UNKNOWN":Object.keys(m).find(r=>m[r]===t)||"UNKNOWN",et=t=>{const{t:e}=k(),r=Object.keys(b).find(s=>b[s]===t);return r?e(r):t},b={slot_no_longer_available:"The slot you have selected is no longer available."},rt=(t,e)=>{const r=["id","name","description","image"],s={};for(let a=0;a<e.length;a++){const o=e[a],n=r[a];s[n]=t[o]||""}return s},_=t=>{if(N(t)){if(w(t))return t.map(e=>_(e));{const e={};return K(t,(r,s)=>{s==="paymentProvider"?e[s]=r:e[M(s)]=_(r)}),e}}return t},ot=t=>{var e,r;try{if(t.trim()){const s=t.trim().split(" ").filter(n=>n!==""),a=(e=s[0][0])==null?void 0:e.toUpperCase(),o=s.length>1?(r=s[1][0])==null?void 0:r.toUpperCase():void 0;return o!==void 0?a+o:a}return"-"}catch{return"-"}},st=t=>{let e=0;if(t.length==0)return e;for(let s=0;s<t.length;s++)e=t.charCodeAt(s)+((e<<5)-e),e=e&e;return"hsl("+Math.abs(e)%360+",35%, 60%)"},at=t=>{const e=Math.floor(t/60),r=t%60,s=e>1?`${e} hrs`:e===1?`${e} hr`:"",a=r>1?`${r} mins`:r===1?`${r} min`:"";return[s,a].filter(Boolean).join(" ")};function nt(t){try{const e=["backgroundColor","primaryColor","buttonText","showCalendarTitle","showCalendarDescription","showCalendarDetails","default","bookButtonText","scheduleButtonText","theme"];if(Object.keys(t).length===0||!e.some(o=>t[o]!==void 0))return null;const r=o=>t[o],s=o=>t[o]!==void 0?t[o]==="true":!0,a={};for(const o of e)a[o]=o==="showCalendarTitle"||o==="showCalendarDescription"||o==="showCalendarDetails"||o==="default"?s(o):r(o);return a}catch(e){return console.error("Error parsing query parameters:",e),null}}function it(t){t=t.replace(/^#/,"");const e=parseInt(t,16),r=e>>16&255,s=e>>8&255,a=e&255;return .2126*r+.7152*s+.0722*a<180}const lt=t=>{switch(t){case p.DARK_OLD:return{borderColor:"#ffffff36",lightBackgroundColor:"#00000036",dropdownColor:"#00000036",labelTextColor:"#e3e3e399",grayTextColor:"#e3e3e399",blackTextColor:"#ffffff",scrollColor:"#e3e3e399"};case p.LIGHT_OLD:return{borderColor:"#00000036",lightBackgroundColor:"#ffffff36",dropdownColor:"#ffffff36",labelTextColor:"#00000066",grayTextColor:"#000000b3",blackTextColor:"#333333",scrollColor:"#00000066"};case p.DARK:return{borderColor:"#fcfcfd33",textColor:"#fcfcfd",lightTextColor:"#fcfcfd99"};case p.LIGHT:return{borderColor:"#1018281a",textColor:"#101828",lightTextColor:"#10182899"};case p.DEFAULT:return{borderColor:"#1018281a",textColor:"#101828",lightTextColor:"#10182899",primaryColor:"#155eef",lightPrimaryColor:"#155eef12",blurColor:"#ffffffb3",backgroundColor:"#ffffff"};default:return{borderColor:"#e3e3e3",lightBackgroundColor:"#ffffff36",dropdownColor:"#f3f8fb",labelTextColor:"#b1b7be",grayTextColor:"#9d9d9d",blackTextColor:"#525252",primaryColor:"#178af6",backgroundColor:"#ffffff",scrollColor:"#9d9d9d"}}},ct=(t,e,r,s)=>{let a={};if(r?a={"--appointment_widgets-primary-color":"primaryColor","--appointment_widgets-background-color":"backgroundColor","--appointment_widgets-border-color":"borderColor","--appointment_widgets-light-primary-color":"lightPrimaryColor","--appointment_widgets-text-color":"textColor","--appointment_widgets-light-text-color":"lightTextColor","--appointment_widgets-blur-color":"blurColor"}:a={"--appointment_widgets-primary-color":"primaryColor","--appointment_widgets-background-color":"backgroundColor","--appointment_widgets-border-color":"borderColor","--appointment_widgets-light-background-color":"lightBackgroundColor","--appointment_widgets-dropdown-color":"dropdownColor","--appointment_widgets-label-text-color":"labelTextColor","--appointment_widgets-gray-text-color":"grayTextColor","--appointment_widgets-black-text-color":"blackTextColor","--appointment_widgets-scroll-color":"scrollColor"},s)Object.entries(a).forEach(([o,n])=>{var i;(i=e==null?void 0:e.style)==null||i.setProperty(o,t==null?void 0:t[n])});else return Object.entries(a).reduce((o,[n,i])=>(o[n]=t==null?void 0:t[i],o),{})},L=t=>{const e=(t==null?void 0:t.depositType)||(t==null?void 0:t.deposit_type);let r=0;if(e==="percentage"){let s=(t==null?void 0:t.deposit)/100*(t==null?void 0:t.amount);r=Math.round(s*100)/100}else r=Math.round((t==null?void 0:t.deposit)*100)/100;return Number.isInteger(r)?r:r.toFixed(2)},ut=(t,e,r,s=!1,a=0,o=0)=>{const n=r==null?void 0:r.hasOwnProperty("deposit");let i=n?Number(L(r)):r==null?void 0:r.amount;t&&r.recurring_appointments_payment_type==="allAppointments"&&(i=i*e),s&&(i=i*(a+1));let u=Math.max(0,i-o);if(n){const c=V(t,e,r,s,a,o);c<i?u=c:u=i}return u},H=(t,e,r,s=!1,a=0)=>{let o=Math.round((r==null?void 0:r.amount)*100)/100;return o=Number.isInteger(o)?o:Number(o.toFixed(2)),t&&r.recurring_appointments_payment_type==="allAppointments"&&(o=o*e),s&&(o=o*(a+1)),o},V=(t,e,r,s=!1,a=0,o=0)=>{const n=H(t,e,r,s,a);return Number(n)-o<0?0:Number(n)-o},dt=t=>{switch(t){case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";default:return null}},pt=(t,e)=>{try{const r=f(t.start_time).tz(t.selected_timezone),s=f().tz(t.selected_timezone);if(e&&(e==null?void 0:e.expiry_time)!=null&&(e!=null&&e.expiry_time_unit)){const a=e.expiry_time,o=e.expiry_time_unit==="mins"?"minute":e.expiry_time_unit,n=r.subtract(a,o);return s.isAfter(n)||s.isSame(n)}return!1}catch{return!1}},ft=async(t,e,r,s,a)=>{let o={...r},n={...s},i={...a};const u=sessionStorage.getItem(`user_data_${t}`);if(!u)return;const c=JSON.parse(u),h=(l,d)=>{o[l]=d},x=e.map(l=>{if(e.includes(l))switch(l){case"phone":let d=c[l];d&&d[0]===" "&&(d="+"+d.trim()),n.phone=d;break;case"country":c[l]&&(i=C[c[l]]);break;case"address":!c[l]&&c.address1&&h(l,c.address1);break;default:h(l,c[l]);break}});return await Promise.all(x),{formFieldsValue:o,formattedCountry:i,phoneCountryIncluded:n}},mt=(t,e)=>{const r=Object.assign({},e);Object.keys(r).forEach(async a=>{var o;(r[a]instanceof File||(o=r[a])!=null&&o.files)&&delete r[a]}),sessionStorage.setItem(`user_data_${t}`,JSON.stringify(r))},gt=t=>{sessionStorage.removeItem(`user_data_${t}`)},ht=t=>{let e="";{const r=document==null?void 0:document.createElement("div"),s=["div","p","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","pre","table","tr","td","th","br"],a=new RegExp(`(</?(${s.join("|")})[^>]*>)`,"gi");t=t==null?void 0:t.replace(a," $1 "),r&&(r.innerHTML=t,e=r.textContent||r.innerText||""),e=e.replace(/\s+/g," ").trim()}return e},bt=t=>{const e={en:"en",da:"da",nl:"nl",fi:"fi",fr_FR:"fr",fr_CA:"fr-ca","fr-ca":"fr-ca",fr:"fr",de:"de",it:"it",no:"nb",pt_PT:"pt",pt_BR:"pt-br",pt:"pt","pt-br":"pt-br",es:"es",sv:"sv",hu:"hu",pl:"pl"},s={fr_FR:"fr",fr_CA:"fr-ca",pt_PT:"pt",pt_BR:"pt-br"}[t]?t:t.includes("_")?t.split("_")[0]:t;return e[s]??"en"},_t=(t,e)=>{const r=new Date().getTime()+6e5,s={...e,expireAfter:r},a=localStorage.getItem("lc_appt_data"),o=a?JSON.parse(a):{};o[t]=s,localStorage.setItem("lc_appt_data",JSON.stringify(o))},wt=t=>{const e=localStorage.getItem("lc_appt_data"),r=e?JSON.parse(e):{},s=r?r[t]:null;return s||{}},xt=t=>{const e=localStorage.getItem("lc_appt_data"),r=e?JSON.parse(e):{};delete r[t],localStorage.setItem("lc_appt_data",JSON.stringify(r))},Ot=()=>{const t=localStorage.getItem("lc_appt_data"),e=t?JSON.parse(t):{},r=new Date().getTime();let s=!1;for(const a in e)e[a].expireAfter<=r&&(delete e[a],s=!0);s&&localStorage.setItem("lc_appt_data",JSON.stringify(e))},Ct=t=>{const e=new URL(t),r=new URLSearchParams(e.search),s={};for(const[a,o]of r.entries())s[a]=o;return s},kt=t=>{const e=t?new URL(t):new URL(window.parent.location.href),r=e.searchParams;["payment_intent","payment_intent_client_secret","redirect_status","sourceId","transactionId","altId","altType","setup_intent","setup_intent_client_secret","payment_session_id","isIframe","calendarElementClass"].forEach(o=>r.delete(o));const a=`${e.origin}${e.pathname}`+(r.toString()?`?${r.toString()}`:"");t?window.parent.postMessage(["modify-parent-url",a],"*"):window.parent.history.replaceState(null,"",a)},Tt=t=>["payment_intent","payment_intent_client_secret","redirect_status","setup_intent","setup_intent_client_secret"].some(e=>t[e]);function vt(t){const e=O(),{referrer:r,source:s}=e;if(t&&r==="https://www.google.co.in/"&&s==="google organic")return z(t),t;{const a=document.cookie.split("; ").find(o=>o.startsWith("_rwg_token="));return typeof a<"u"?a.split("=")[1]:t}}function z(t,e=2592e3){const r=window.location.hostname;document.cookie=`_rwg_token=${t};max-age=${e};domain=${r};path=/`}function Nt(){const t=window.location.hostname;document.cookie=`_rwg_token=;max-age=0;domain=${t};path=/`}export{et as A,dt as B,p as C,xt as D,_t as E,wt as F,ht as G,rt as H,j as I,J as P,S as W,nt as a,ot as b,it as c,lt as d,L as e,bt as f,Ct as g,at as h,pt as i,Tt as j,_ as k,$ as l,kt as m,m as n,Nt as o,st as p,gt as q,vt as r,ct as s,mt as t,ut as u,ft as v,H as w,V as x,Ot as y,tt as z};
