import{d as C,c as u,a as r,b as n,u as o,l as d,m as g,y as v,t as c,e as h,E as F,N as B,M as O,a8 as w,k as K,L as N}from"./8xvvzpeQ.js";import{t as V}from"./Dmt1cPZn.js";import{S as A}from"./BJsWKcEX.js";import{a as T}from"./BCGqgtjN.js";import"./oo_a1T_D.js";import"./DR8Wfbq3.js";const U=["innerHTML"],j=["for"],D={key:0},$={class:"flex-col"},H=["placeholder","name","data-q","data-required","id"],I={key:0,id:"error-container",class:"error"},W=C({__name:"NumberElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formLabelAlignment:{type:String},formFieldsValue:{type:Object},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","isSlideMovable"],setup(e,{expose:k,emit:q}){const t=e,L=i=>{var a,l;![void 0,""].includes((l=t.formFieldsValue)==null?void 0:l[(a=t.item)==null?void 0:a.tag])&&[45,43].includes(i.charCode)&&i.preventDefault()},E=()=>{y()},S=()=>{y()},f=q;u(()=>t.kind=="form");const m=u(()=>t.kind=="survey"),b=u(()=>t.errors[t.item.tag]),M=i=>{m.value&&f("isSlideMovable",i)},y=()=>{const i=t.formFieldsValue[t.item.tag];t.item.required&&V(i)?s(t.item.tag,`${t.item.label} is required`):s(t.item.tag,null)},x=()=>{if(m.value)return;const i=t.formFieldsValue[t.item.tag];t.item.required&&V(i)?s(t.item.tag,`${t.item.label} is required`):s(t.item.tag,null)},s=(i,a)=>{f("addOrUpdateError",{tag:i,error:a})};return k({validate:x,item:t.item}),(i,a)=>(r(),n("div",{class:g(["form-builder--item field-container",{"d-none":e.item.hidden,"form-builder--item-input":o(m)}])},[o(m)&&e.item.description!==void 0?(r(),n("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,U)):d("",!0),e.formLabelVisible?(r(),n("label",{key:1,class:g([o(T)(e.item.labelAlignment,e.formLabelAlignment),"field-label"]),for:e.item.tag},[v(c(e.item.label)+" ",1),e.item.required?(r(),n("span",D,"*")):d("",!0)],10,j)):d("",!0),h("div",$,[F(h("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e.formFieldsValue[e.item.tag]=l),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,onKeydown:a[1]||(a[1]=O(w(l=>M({}),["prevent"]),["enter"])),onKeypress:L,onInput:E,onBlur:S,type:"number",step:"any",class:"form-control","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required,id:e.item.tag},null,40,H),[[B,e.formFieldsValue[e.item.tag]]]),o(b)?(r(),n("div",I,c(o(b)),1)):d("",!0),e.item.shortLabel?(r(),K(A,{key:1},{default:N(()=>[v(c(e.item.shortLabel),1)]),_:1})):d("",!0)])],2))}});export{W as default};
