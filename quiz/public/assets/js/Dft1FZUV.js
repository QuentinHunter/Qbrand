import{d as P,j as R,c as f,r as u,a as h,b as y,e as s,E as q,bJ as B,u as r,aL as S,s as E,l as O,t as w,m as D}from"./8xvvzpeQ.js";const N={class:"terms-and-conditions"},z={class:"checkbox-container"},K=["id","value","name","data-q","data-required"],Q=["innerHTML","for"],A={key:0,class:"checkbox-container"},J=["id","value","name","data-q"],G=["innerHTML","for"],W={key:0,id:"error-container",class:"error"},Y=P({__name:"TermsAndConditionsElement",props:{kind:{type:String},item:{type:Object},labelFontFamily:{type:String,default:"Roboto"},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},localTagId:{type:String},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError","handleCheckBox","updateFormFieldsValue"],setup(t,{expose:$,emit:I}){var T,p,V;const{t:v}=R(),e=t,g=I,b=f(()=>e.kind==="form"),L=f(()=>e.kind==="survey"),x=f(()=>e.errors[e.item.tag]),k=l=>{var a,n;return l&&`<span class="terms-text-container" style="color: #${(a=e.item)==null?void 0:a.textColor};">${l.replace(/<a /g,`<a style="color: #${(n=e.item)==null?void 0:n.linkColor}; text-decoration: none;" `)}</span>`},M=k((T=e.item)==null?void 0:T.placeholder),U=k((p=e.item)==null?void 0:p.placeholder2),j=u(null),H=u(null),i=u(!!((V=e.formFieldsValue)!=null&&V[e.item.tag])),d=u(!1),m=l=>new DOMParser().parseFromString(l,"text/html").body.textContent||"",F=l=>{var n;let a;(n=e.item)!=null&&n.placeholder2?i.value&&d.value?a=`${m(e.item.placeholder)}; ${m(e.item.placeholder2)}`:i.value?a=m(e.item.placeholder):d.value?a=m(e.item.placeholder2):a=!1:a=i.value?m(e.item.placeholder):!1,g("updateFormFieldsValue",{tag:e.item.tag,value:a}),(i.value||d.value)&&c(e.item.tag,null),C()},C=()=>{var l;if(e.item.required){if((l=e.item)!=null&&l.placeholder2){if(!i.value||!d.value){c(e.item.tag,v("terms_and_conditions"));return}}else if(!i.value){c(e.item.tag,v("terms_and_conditions"));return}}c(e.item.tag,null)},c=(l,a)=>{g("addOrUpdateError",{tag:l,error:a})};return $({validate:C,item:e.item}),(l,a)=>{var n;return h(),y("div",{class:D(["form-builder--item",{"d-none":t.item.hidden,"form-builder--item-input":r(L)}])},[s("div",N,[s("div",z,[q(s("input",{id:t.item.tag+"_1_"+t.localTagId,ref:o=>j.value=o,value:t.item.tag,name:r(b)?t.item.tag:t.item.label,"onUpdate:modelValue":a[0]||(a[0]=o=>S(i)?i.value=o:null),onChange:a[1]||(a[1]=o=>F()),type:"checkbox","data-q":t.item.hiddenFieldQueryKey,"data-required":t.item.required},null,40,K),[[B,r(i)]]),s("label",{style:E([{fontFamily:t.labelFontFamily},{"margin-left":"10px"}]),innerHTML:r(M),for:t.item.tag+"_1_"+t.localTagId},null,12,Q)]),(n=t.item)!=null&&n.placeholder2?(h(),y("div",A,[q(s("input",{id:t.item.tag+"_2_"+t.localTagId,ref:o=>H.value=o,value:t.item.tag,name:r(b)?t.item.tag:t.item.label,"onUpdate:modelValue":a[2]||(a[2]=o=>S(d)?d.value=o:null),onChange:a[3]||(a[3]=o=>F()),type:"checkbox","data-q":t.item.hiddenFieldQueryKey},null,40,J),[[B,r(d)]]),s("label",{style:E([{fontFamily:t.labelFontFamily,width:"100%"},{"margin-left":"10px"}]),innerHTML:r(U),for:t.item.tag+"_2_"+t.localTagId},null,12,G)])):O("",!0)]),r(x)?(h(),y("div",W,w(r(x)),1)):O("",!0)],2)}}});export{Y as default};
